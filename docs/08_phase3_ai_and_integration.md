# フェーズ3: 中長期的改善フェーズ（AI活用と高度な統合）

## ① 現状診断（Phase 2 実施後）
Phase 2 で機能性と UX は大幅に向上したが、さらに高度な意思決定支援や競争優位性を持つアプリにするには、外部データや AI 活用、他システムとの統合が必要である。

## ② 課題抽出
- **分析の高度化**: 分析メニューが限定的で、AI による予測やテキスト解析、リアルタイム指標の連携が不足している。
- **データ連携の不足**: 会計ソフトや CRM 等の外部システムと接続できず、データの入力が手作業になっている。
- **ユーザー管理・権限設定**: 分析内容に応じた利用者制限や部門ごとの利用範囲設定といった要望に応えられていない。

## ③ 改善提案
### AI モデルや外部 API との連携
- **予測モデルの組み込み**: 過去の財務データから売上や利益を予測する回帰モデルや時系列モデルを組み込み、将来予測や感度分析を自動化する。Streamlit は `st.progress` と組み合わせることでモデル学習中の進捗を表示できる。
- **自然言語処理（NLP）によるテキスト分析**: 顧客の口コミやアンケートをアップロードして、NLP モデルによりポジティブ・ネガティブ分析を実行。結果をワードクラウドやサンキー図などで可視化する。

### 外部システムとの統合
- **データベースや SaaS 連携**: 会計ソフト（freee、マネーフォワード）や CRM（Salesforce など）の API と接続し、最新データを自動で取得する。定期更新をタスクスケジューラで実装する。
- **ユーザー認証と権限管理**: Okta や Auth0 などの認証サービスと統合し、ユーザーごとに閲覧できるデータや操作範囲を制御する。Streamlit Community Cloud ではユーザーログイン機能が制限されるため、独自デプロイ（Docker + nginx）も検討する。

### 高度な可視化とレポーティング
- **インタラクティブダッシュボード**: Plotly や Bokeh を使った対話型チャートや地図表示を採用し、ユーザーがグラフ上でドラッグして分析範囲を選択できるようにする。
- **自動レポート生成**: 分析結果を Jinja2 テンプレートや pdfkit で自動的にレポート化し、定型レポートをワンクリックで生成できるようにする。

## ④ 実装可能性
中長期的な改善は、基幹システムとの連携や AI モデルの開発が必要になるため、以下のステップで進めると現実的である。

1. **実現可能性評価と PoC**: 予測モデルや外部 API 連携を小規模なプロトタイプとして検証し、効果と実装工数を評価する。
2. **段階的なデプロイ**: フロントエンドの Streamlit アプリとバックエンド（FastAPI や Flask）を分離し、API 経由で AI モデルやデータ連携処理を呼び出す構成にする。これにより機能の拡張が容易になる。
3. **セキュリティとガバナンスの整備**: ユーザー認証、ログ管理、データ暗号化など、企業利用に耐えるセキュリティ機能を追加する。
